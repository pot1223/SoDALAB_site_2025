<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('soda.static', filename='people.css')}}"/>
    <link rel="stylesheet" href = "{{url_for('soda.static', filename='footer.css')}}"/>
    <title>SoDA LAB - Members</title>

</head>
<body>
  <!-- ========== HEADER / NAVIGATION ========== -->
    <header id="header">
        <div class="header-inner">
            <a href="#" class="logo" onclick="navigateTo('home'); return false;">
                <img class="logo-image" src="{{ url_for('soda.static', filename='images/sodalab_logo_black.png') }}" alt="SoDA LAB Logo">
            </a>
            
            <nav id="nav">
                <a href="{{url_for('soda.home')}}" >Home</a>
                
                <div class="nav-item-with-dropdown">
                    <div class="nav-link">
                        About us
                        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m6 9 6 6 6-6"/>
                        </svg>
                    </div>
                    <div class="dropdown-menu">
                        <a href="{{url_for('soda.intro')}}">Introduction</a>
                        <a href="{{url_for('soda.contact')}}">Contact</a>
                    </div>
                </div>

                <div class="nav-item-with-dropdown">
                    <div class="nav-link">
                        People
                        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m6 9 6 6 6-6"/>
                        </svg>
                    </div>
                    <div class="dropdown-menu">
                        <a href="{{url_for('soda.prof')}}">Professor</a>
                        <a href="{{url_for('soda.people')}}">Members</a>
                        <a href="{{url_for('soda.graduate')}}">Alumni</a>
                    </div>
                </div>

                <div class="nav-item-with-dropdown">
                    <div class="nav-link">
                        Research
                        <svg class="chevron-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m6 9 6 6 6-6"/>
                        </svg>
                    </div>
                    <div class="dropdown-menu">
                        <a href="{{url_for('soda.domestic')}}">Domestic</a>
                        <a href="{{url_for('soda.aboard')}}">International</a>
                        <a href="{{url_for('soda.confer')}}">Domestic Conference</a>
                        <a href="{{url_for('soda.international')}}">International Conference</a>
                    </div>
                </div>

                <a href="{{url_for('soda.project')}}">Projects</a>
                <a href="{{url_for('soda.gallery')}}">News</a>
            </nav>

            <!-- 모바일 메뉴 버튼 -->
            <button class="mobile-menu-button" onclick="toggleMobileMenu()">
                <svg id="menu-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="4" x2="20" y1="12" y2="12"/>
                    <line x1="4" x2="20" y1="6" y2="6"/>
                    <line x1="4" x2="20" y1="18" y2="18"/>
                </svg>
                <svg id="close-icon" style="display:none;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 6 6 18"/>
                    <path d="m6 6 12 12"/>
                </svg>
            </button>
        </div>

        <!-- 모바일 메뉴 -->
        <!-- 모바일 메뉴 -->
        <div class="mobile-menu" id="mobile-menu">
            <a href="{{url_for('soda.home')}}">Home</a>
            
            <a href="#" style="font-weight: 600;">About us</a>
            <div class="mobile-submenu">
                <a href="{{url_for('soda.intro')}}">Introduction</a>
                <a href="{{url_for('soda.contact')}}">Contact</a>
            </div>

            <a href="#" style="font-weight: 600;">People</a>
            <div class="mobile-submenu">
                <a href="{{url_for('soda.prof')}}">Professor</a>
                <a href="{{url_for('soda.people')}}">Members</a>
                <a href="{{url_for('soda.graduate')}}">Alumni</a>
            </div>

            <a href="#" style="font-weight: 600;">Research</a>
            <div class="mobile-submenu">
                <a href="{{url_for('soda.domestic')}}">Domestic</a>
                <a href="{{url_for('soda.aboard')}}">International</a>
                <a href="{{url_for('soda.confer')}}">Domestic Conference</a>
                <a href="{{url_for('soda.international')}}">International Conference</a>
            </div>

            <a href="{{url_for('soda.project')}}">Projects</a>
            <a href="{{url_for('soda.gallery')}}">News</a>
        </div>
    </header>

    <!-- 전체 페이지 래퍼 -->
    <div class="page-wrapper">
        <!-- 움직이는 파란 동그라미 배경들 -->
        <div class="background-decoration">
            <div class="blob blob-1"></div>
            <div class="blob blob-2"></div>
            <div class="blob blob-3"></div>
            <div class="blob blob-4"></div>
            <div class="blob blob-5"></div>
            <div class="blob blob-6"></div>
        </div>

    <section id="members">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Members</h2>
                <p class="section-subtitle">연구실 구성원</p>
            </div>

            <div class="members-grid">
                {% for present_member in present_members %}
                <div class="member-card">
                    <div class="member-profile-side">
                        <div class="member-image-wrapper">
                            <img src="{{ present_member.public_image_url }}" alt="{{ present_member.member }}" class="member-image">
                        </div>
                        
                        <div class="profile-text-content">
                            <div class="member-name-wrapper">
                                <h3 class="member-name">
                                    <span class="member-name-ko">{{ present_member.member }}</span>
                                    <span class="member-name-en">{{ present_member.member_en }}</span>
                                </h3>
                            </div>

                            <div class="degree-info">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>
                                <div class="degree-detail">
                                    <span class="degree-ko">{{ present_member.degree }}</span>
                                    <span class="degree-divider">|</span>
                                    <span class="degree-en">{{ present_member.degree_en }}</span> 
                                </div>
                            </div>
                            <div class="major-info">{{ present_member.department }}</div>

                            <a href="mailto:{{ present_member.email }}" class="email-link">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
                                <span>{{ present_member.email }}</span>
                            </a>
                        </div>
                    </div>

                    <div class="member-specs-side">
                        <div class="research-section">
                            <div class="research-header">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                                <span>Research Interests</span>
                            </div>
                            <div class="research-tags">
                                {% for tag in present_member.interest_part.split(',') %}
                                <span class="research-tag">{{ tag.strip() }}</span>
                                {% endfor %}
                            </div>
                        </div>

                        <div class="specs-divider"></div>

                        <div class="specs-section">
                            <div class="specs-header">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                                <span>Publications & Performance</span>
                            </div>
                            <ul class="specs-list">
                                    {% if present_member.specs_list %}
                                        {% for spec in present_member.specs_list %}
                                        <li class="spec-item">
                                            <strong>{{ spec.title }}</strong>
                                            <br>
                                            <span style="font-size: 0.85em; color: #6b7280;">
                                                - {{ spec.organi }} | {{ spec.date }}
                                                {% if spec.price %} ({{ spec.price }}) {% endif %}
                                            </span>
                                        </li>
                                        {% endfor %}
                                    {% else %}
                                        <li class="spec-item" style="color: #9ca3af;">등록된 프로젝트 정보가 없습니다.</li>
                                    {% endif %}
                        </ul>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-pattern"></div>
        <div class="footer-content">
            <h3 class="footer-title">SoDA LAB</h3>
            <p class="footer-address">
                (16227) 경기도 수원시 영통구 광교산로 154-42 경기대학교 제2공학관 5층 506호
            </p>
            <p class="footer-copyright">
                ⓒ 2025 SoDALAB. All rights reserved
            </p>
        </div>
    </footer>
</body>
<script>

    // ========== 헤더 스크롤 효과 ==========
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 10) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // ========== 모바일 메뉴 토글 ==========
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');
            
            mobileMenu.classList.toggle('active');
            
            if (mobileMenu.classList.contains('active')) {
                menuIcon.style.display = 'none';
                closeIcon.style.display = 'block';
            } else {
                menuIcon.style.display = 'block';
                closeIcon.style.display = 'none';
            }
        }

        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');
            
            mobileMenu.classList.remove('active');
            menuIcon.style.display = 'block';
            closeIcon.style.display = 'none';
        }

        // ========== 페이지 네비게이션 ==========
        function navigateTo(page) {
            console.log('Navigating to:', page);
            // 여기에 실제 페이지 전환 로직 추가
            // 예: window.location.href = page + '.html';
            
            // 메뉴 활성화 상태 변경
            const allLinks = document.querySelectorAll('nav a, .mobile-menu a');
            allLinks.forEach(link => link.classList.remove('active'));
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ========== 슬라이더 기능 ==========
        let currentIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');
        const totalSlides = slides.length;
        let autoSlideTimer;

        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            slides[index].classList.add('active');
            dots[index].classList.add('active');
            currentIndex = index;
        }

        function goToSlide(index) {
            showSlide(index);
            resetAutoSlide();
        }

        function previousSlide() {
            const newIndex = currentIndex === 0 ? totalSlides - 1 : currentIndex - 1;
            showSlide(newIndex);
            resetAutoSlide();
        }

        function nextSlide() {
            const newIndex = currentIndex === totalSlides - 1 ? 0 : currentIndex + 1;
            showSlide(newIndex);
            resetAutoSlide();
        }

        function startAutoSlide() {
            autoSlideTimer = setInterval(() => {
                nextSlide();
            }, 5000);
        }

        function resetAutoSlide() {
            clearInterval(autoSlideTimer);
            startAutoSlide();
        }

        startAutoSlide();

        // 키보드 네비게이션
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                previousSlide();
            } else if (e.key === 'ArrowRight') {
                nextSlide();
            }
        });

        // 터치 스와이프 지원
        let touchStartX = 0;
        let touchEndX = 0;

        const sliderTrack = document.querySelector('.slider-track');

        sliderTrack.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        sliderTrack.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) {
                nextSlide();
            }
            if (touchEndX > touchStartX + 50) {
                previousSlide();
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
          const nav = document.getElementById("nav");
          const currentLink_2 = nav.querySelector(".current_2");
          const dropdown_2 = nav.querySelector(".dropdown_2");


          currentLink_2.addEventListener("click", (e) => {
            e.preventDefault(); 
            dropdown_2.style.display = dropdown_2.style.display === "block" ? "none" : "block";
            });

          
          document.addEventListener("click", (e) => {
            if (!nav.contains(e.target)) {
              dropdown_2.style.display = "none";
            }
          });

        });

    </script>
</html>